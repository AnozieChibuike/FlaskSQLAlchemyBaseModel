[![PyPI Version](https://img.shields.io/pypi/v/paystackClientApi.svg)](https://pypi.org/project/FlaskSQLAlchemyBaseModel/)
[![Python Versions](https://img.shields.io/pypi/pyversions/FlaskSQLAlchemyBaseModel.svg)](https://pypi.org/project/FlaskSQLAlchemyBaseModel/)
[![License](https://img.shields.io/pypi/l/FlaskSQLAlchemyBaseModel.svg)](https://github.com/AnozieChibuike/FlaskSQLAlchemyBaseModel/blob/master/LICENSE)

# Description

`FlaskSQLAlchemyBaseModel` package provides a foundation for building SQLAlchemy-based ORM models in a Flask application. It offers common functionality required by most models, including automatic handling of unique identifiers, timestamps, and convenience methods for CRUD operations. This package streamlines the development process by offering a consistent and reusable base class for database models, ensuring that every model inherits essential features and reduces boilerplate code.

## Key Features

- UUID Primary Key: Automatically generates a unique identifier for each record.
- Timestamps: Maintains created_at and updated_at fields for each record, updated automatically.
- CRUD Operations: Provides methods for saving, deleting, and closing database sessions.
- Dictionary Representation: Converts model instances to dictionaries, including related objects.
- Convenience Methods: Includes class methods to retrieve all records, retrieve records by ID, and retrieve records by ID or return a 404 error if not found.

## Installation

You can install this package using `pip`:

```bash
pip install FlaskSQLAlchemyBaseModel
```

## Usage

### Initialize with your flask app

```python
from flasksqlalchemybasemodel import db

app = Flask(__name__) # or you can replace with your flask instance

yourdb = db.init_app(app)
```

### Import and use the BaseModel with your models

```python
from flasksqlalchemybasemodel import BaseModel # Import the baseModel

# for example a user model
class User(BaseModel):
    __tablename__ = 'users'
    name = db.Column(db.String(50))
    email = db.Column(db.String(100), unique=True)
```

### Using the inherited methods

- `save` : <span>Used for saving an item to the database</span>
  <p>This will save you the time of doing </p>

      ```
      db.session.delete(<instance_that_exists_in_the_db>)
      db.session.commit()
      ```

  Example:

    ```python
    from flasksqlalchemybasemodel import BaseModel # Import the baseModel

    # for example a user model
    class User(BaseModel):
        __tablename__ = 'users'
        name = db.Column(db.String(50))
        email = db.Column(db.String(100), unique=True)

    user = User(name="John Doe",email="johnddoe@example.com")

    user.save() # Saves the instance to your db
    ```
    ---

- `delete` : <span>Used for deleting an item from the database</span>

    <p>This will save you the time of doing </p>

    ```
    db.session.delete(<instance_that_exists_in_the_db>)
    db.session.commit()
    ```
    Example:

    ```python
    from flasksqlalchemybasemodel import BaseModel # Import the baseModel

    # for example a user model
    class User(BaseModel):
        __tablename__ = 'users'
        name = db.Column(db.String(50))
        email = db.Column(db.String(100), unique=True)

    user = User(name="John Doe",email="johnddoe@example.com")

    user.save() # Saves the instance to your db

    user.delete() # This then deletes the saved instance
    ```
    ---
- `to_dict` : <span>Used for returning the instance as a python dictionary</span>

    <p>Example:</p>

    ```python
    from flasksqlalchemybasemodel import BaseModel # Import the baseModel

    # for example a user model
    class User(BaseModel):
        __tablename__ = 'users'
        name = db.Column(db.String(50))
        email = db.Column(db.String(100), unique=True)

    user = User(name="John Doe",email="johnddoe@example.com")

    user.save() # Saves the instance to your db

    userDict = user.to_dict() 
    print(userDict)
    """
    output
    {
        "id": "Some random uuid", # auto-generated by the package
        "created_at": <datetimeObject>, # Time instance was created
        "updated_at": <datetimeObject>, # Time instance was updated last
        "name": "John Doe",
        "email": "johnddoe@example.com"
    }
    """
    ```
    
    And many more methods... look into the source code to get the many methods
    

## Contributing

Contributions are welcome! If you'd like to contribute to this project, please follow these steps:

1.  Fork the repository.
2.  Create a new branch for your feature or bug fix.
3.  Make your changes and test them thoroughly.
4.  Create a pull request with a clear description of your changes.

## License

This project is licensed under the MIT License - see the [LICENSE](https://mit-license.org/) file for details.

## Acknowledgments

- Inspired by [Al-Areef](https://github.com/NUCCASSJNR)

## Contact

- Anozie Joel
- Email: chibuikeanozie0@gmail.com
- GitHub: [Anozie Chibuike](https://github.com/AnozieChibuike)
